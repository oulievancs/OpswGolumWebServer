<!------------------------------>
<script src="https://code.jquery.com/jquery-3.5.1.js" type="text/javascript"></script>
<!--<script defer src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js" type="text/javascript"></script>-->
<script defer src="https://cdn.datatables.net/1.11.3/js/jquery.dataTables.min.js" type="text/javascript"></script>
<!--<link rel="stylesheet" defer th:href="@{https://cdn.datatables.net/1.11.3/css/dataTables.bootstrap5.min.css}"></link>-->
<link rel="stylesheet" defer th:href="@{https://cdn.datatables.net/1.11.3/css/jquery.dataTables.min.css}"></link>
<link rel="stylesheet" defer th:href="@{https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.0.1/css/bootstrap.min.css}"></link>
<!--<link rel="stylesheet" defer th:href="@{http://getbootstrap.com/css/#tables-responsive}"></link>-->

<script th:inline="javascript">
  $(".modal-dialog").ready(function() {
    var table = $('#table_modal').DataTable({
      "paging": false
    });

    $('#table_modal tbody').on( 'click', 'tr', function () {
        if ( $(this).hasClass('selected') ) {
            $(this).removeClass('selected');
        }
        else {
            table.$('tr.selected').removeClass('selected');
            $(this).addClass('selected');
        }
    } );

    $('#button-select').click( function () {
      //var vid = table.row('.selected').$('#current').attr('value');
      var row = table.row('.selected').data();
      var asset = document.getElementById("asset").value;
      window.location.href = '/OPSWGOLUMWEBSERV/modals/symb/modalpost?asset=' + asset + '&symb=' + row[0];
      //Http.open("GET", url);
      //Http.send();
    } );

    $('#table_modal').on('dblclick','tr',function(e){
        e.stopPropagation();
        let rowID = $(this).attr('id');
        var asset = document.getElementById("asset").value;
        window.location.href = '/OPSWGOLUMWEBSERV/modals/symb/modalpost?asset=' + asset + '&symb=' + rowID;
    });
  } );
</script>
<input type="hidden" class="form-control" id="asset" th:value="${asset}"/>
<table id="table_modal" class="hover table-responsive stripe" style="width:100%">
  <thead>
    <tr>
      <th type="hidden" th:text="${'Symb ID'}" data-visible="false"></th>
      <th th:text="#{SYMB_MODAL01.NAME}"></th>
      <th th:text="#{SYMB_MODAL01.SURNAME}"></th>
      <th th:text="#{SYMB_MODAL01.TELEPHONE}"></th>
      <th th:text="#{SYMB_MODAL01.EMAIL}"></th>
    </tr>
  </thead>
  <tbody>
    <tr th:each = "notary : ${CLM0}" th:id = "${notary.getId()}">
      <td type="hidden" th:text = "${notary.getId()}"></td>
      <td th:text = "${notary.getName()}"></td>
      <td th:text = "${notary.getSurename()}"></td>
      <td th:text = "${notary.getTele()}"></td>
      <td th:text = "${notary.getEmail()}"></td>
    </tr>            
  </tbody>
</table>
<div class="modal-footer">
  <button type="button" class="btn btn-secondary" data-dismiss="modal">
    <span th:text="#{SYMB_MODAL01.CLOSE}"></span>
  </button>
  <button type="button" id="button-select" class="btn btn-primary" data-dismiss="modal">
    <span th:text="#{SYMB_MODAL01.SELECT}"></span>
  </button>
</div>